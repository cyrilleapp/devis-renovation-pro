{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/authService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":64,"index":168}}],"key":"eRnSkZK1DKe4zDf2LZM5EyIlz9k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesAuthService = require(_dependencyMap[2], \"../services/authService\");\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    login: async (email, password) => {\n      try {\n        const response = await _servicesAuthService.authService.login(email, password);\n        await AsyncStorage.default.setItem('auth_token', response.access_token);\n        set({\n          user: response.user,\n          token: response.access_token,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        throw error;\n      }\n    },\n    register: async (email, password, nom) => {\n      try {\n        const response = await _servicesAuthService.authService.register(email, password, nom);\n        await AsyncStorage.default.setItem('auth_token', response.access_token);\n        set({\n          user: response.user,\n          token: response.access_token,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        throw error;\n      }\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false\n      });\n    },\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          global.authToken = token;\n          const user = await _servicesAuthService.authService.getCurrentUser();\n          set({\n            user,\n            token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Error loading token:', error);\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":86,"map":[[12,2,16,0,"Object"],[12,8,16,0],[12,9,16,0,"defineProperty"],[12,23,16,0],[12,24,16,0,"exports"],[12,31,16,0],[13,4,16,0,"enumerable"],[13,14,16,0],[14,4,16,0,"get"],[14,7,16,0],[14,18,16,0,"get"],[14,19,16,0],[15,6,16,0],[15,13,16,0,"useAuthStore"],[15,25,16,0],[16,4,16,0],[17,2,16,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_servicesAuthService"],[21,26,3,0],[21,29,3,0,"require"],[21,36,3,0],[21,37,3,0,"_dependencyMap"],[21,51,3,0],[22,2,16,7],[22,8,16,13,"useAuthStore"],[22,20,16,25],[22,23,16,28],[22,27,16,28,"create"],[22,35,16,34],[22,36,16,34,"create"],[22,42,16,34],[22,44,16,47,"set"],[22,47,16,50],[22,52,16,56],[23,4,17,2,"user"],[23,8,17,6],[23,10,17,8],[23,14,17,12],[24,4,18,2,"token"],[24,9,18,7],[24,11,18,9],[24,15,18,13],[25,4,19,2,"isLoading"],[25,13,19,11],[25,15,19,13],[25,19,19,17],[26,4,20,2,"isAuthenticated"],[26,19,20,17],[26,21,20,19],[26,26,20,24],[27,4,22,2,"login"],[27,9,22,7],[27,11,22,9],[27,17,22,9,"login"],[27,18,22,16,"email"],[27,23,22,29],[27,25,22,31,"password"],[27,33,22,47],[27,38,22,52],[28,6,23,4],[28,10,23,8],[29,8,24,6],[29,14,24,12,"response"],[29,22,24,20],[29,25,24,23],[29,31,24,29,"authService"],[29,51,24,40],[29,52,24,40,"authService"],[29,63,24,40],[29,64,24,41,"login"],[29,69,24,46],[29,70,24,47,"email"],[29,75,24,52],[29,77,24,54,"password"],[29,85,24,62],[29,86,24,63],[30,8,25,6],[30,14,25,12,"AsyncStorage"],[30,26,25,24],[30,27,25,24,"default"],[30,34,25,24],[30,35,25,25,"setItem"],[30,42,25,32],[30,43,25,33],[30,55,25,45],[30,57,25,47,"response"],[30,65,25,55],[30,66,25,56,"access_token"],[30,78,25,68],[30,79,25,69],[31,8,26,6,"set"],[31,11,26,9],[31,12,26,10],[32,10,26,12,"user"],[32,14,26,16],[32,16,26,18,"response"],[32,24,26,26],[32,25,26,27,"user"],[32,29,26,31],[33,10,26,33,"token"],[33,15,26,38],[33,17,26,40,"response"],[33,25,26,48],[33,26,26,49,"access_token"],[33,38,26,61],[34,10,26,63,"isAuthenticated"],[34,25,26,78],[34,27,26,80],[35,8,26,85],[35,9,26,86],[35,10,26,87],[36,6,27,4],[36,7,27,5],[36,8,27,6],[36,15,27,13,"error"],[36,20,27,18],[36,22,27,20],[37,8,28,6],[37,14,28,12,"error"],[37,19,28,17],[38,6,29,4],[39,4,30,2],[39,5,30,3],[40,4,32,2,"register"],[40,12,32,10],[40,14,32,12],[40,20,32,12,"register"],[40,21,32,19,"email"],[40,26,32,32],[40,28,32,34,"password"],[40,36,32,50],[40,38,32,52,"nom"],[40,41,32,63],[40,46,32,68],[41,6,33,4],[41,10,33,8],[42,8,34,6],[42,14,34,12,"response"],[42,22,34,20],[42,25,34,23],[42,31,34,29,"authService"],[42,51,34,40],[42,52,34,40,"authService"],[42,63,34,40],[42,64,34,41,"register"],[42,72,34,49],[42,73,34,50,"email"],[42,78,34,55],[42,80,34,57,"password"],[42,88,34,65],[42,90,34,67,"nom"],[42,93,34,70],[42,94,34,71],[43,8,35,6],[43,14,35,12,"AsyncStorage"],[43,26,35,24],[43,27,35,24,"default"],[43,34,35,24],[43,35,35,25,"setItem"],[43,42,35,32],[43,43,35,33],[43,55,35,45],[43,57,35,47,"response"],[43,65,35,55],[43,66,35,56,"access_token"],[43,78,35,68],[43,79,35,69],[44,8,36,6,"set"],[44,11,36,9],[44,12,36,10],[45,10,36,12,"user"],[45,14,36,16],[45,16,36,18,"response"],[45,24,36,26],[45,25,36,27,"user"],[45,29,36,31],[46,10,36,33,"token"],[46,15,36,38],[46,17,36,40,"response"],[46,25,36,48],[46,26,36,49,"access_token"],[46,38,36,61],[47,10,36,63,"isAuthenticated"],[47,25,36,78],[47,27,36,80],[48,8,36,85],[48,9,36,86],[48,10,36,87],[49,6,37,4],[49,7,37,5],[49,8,37,6],[49,15,37,13,"error"],[49,20,37,18],[49,22,37,20],[50,8,38,6],[50,14,38,12,"error"],[50,19,38,17],[51,6,39,4],[52,4,40,2],[52,5,40,3],[53,4,42,2,"logout"],[53,10,42,8],[53,12,42,10],[53,18,42,10,"logout"],[53,19,42,10],[53,24,42,22],[54,6,43,4],[54,12,43,10,"AsyncStorage"],[54,24,43,22],[54,25,43,22,"default"],[54,32,43,22],[54,33,43,23,"removeItem"],[54,43,43,33],[54,44,43,34],[54,56,43,46],[54,57,43,47],[55,6,44,4,"set"],[55,9,44,7],[55,10,44,8],[56,8,44,10,"user"],[56,12,44,14],[56,14,44,16],[56,18,44,20],[57,8,44,22,"token"],[57,13,44,27],[57,15,44,29],[57,19,44,33],[58,8,44,35,"isAuthenticated"],[58,23,44,50],[58,25,44,52],[59,6,44,58],[59,7,44,59],[59,8,44,60],[60,4,45,2],[60,5,45,3],[61,4,47,2,"loadToken"],[61,13,47,11],[61,15,47,13],[61,21,47,13,"loadToken"],[61,22,47,13],[61,27,47,25],[62,6,48,4],[62,10,48,8],[63,8,49,6],[63,14,49,12,"token"],[63,19,49,17],[63,22,49,20],[63,28,49,26,"AsyncStorage"],[63,40,49,38],[63,41,49,38,"default"],[63,48,49,38],[63,49,49,39,"getItem"],[63,56,49,46],[63,57,49,47],[63,69,49,59],[63,70,49,60],[64,8,50,6],[64,12,50,10,"token"],[64,17,50,15],[64,19,50,17],[65,10,51,8,"global"],[65,16,51,14],[65,17,51,15,"authToken"],[65,26,51,24],[65,29,51,27,"token"],[65,34,51,32],[66,10,52,8],[66,16,52,14,"user"],[66,20,52,18],[66,23,52,21],[66,29,52,27,"authService"],[66,49,52,38],[66,50,52,38,"authService"],[66,61,52,38],[66,62,52,39,"getCurrentUser"],[66,76,52,53],[66,77,52,54],[66,78,52,55],[67,10,53,8,"set"],[67,13,53,11],[67,14,53,12],[68,12,53,14,"user"],[68,16,53,18],[69,12,53,20,"token"],[69,17,53,25],[70,12,53,27,"isAuthenticated"],[70,27,53,42],[70,29,53,44],[70,33,53,48],[71,12,53,50,"isLoading"],[71,21,53,59],[71,23,53,61],[72,10,53,67],[72,11,53,68],[72,12,53,69],[73,8,54,6],[73,9,54,7],[73,15,54,13],[74,10,55,8,"set"],[74,13,55,11],[74,14,55,12],[75,12,55,14,"isLoading"],[75,21,55,23],[75,23,55,25],[76,10,55,31],[76,11,55,32],[76,12,55,33],[77,8,56,6],[78,6,57,4],[78,7,57,5],[78,8,57,6],[78,15,57,13,"error"],[78,20,57,18],[78,22,57,20],[79,8,58,6,"console"],[79,15,58,13],[79,16,58,14,"error"],[79,21,58,19],[79,22,58,20],[79,44,58,42],[79,46,58,44,"error"],[79,51,58,49],[79,52,58,50],[80,8,59,6,"set"],[80,11,59,9],[80,12,59,10],[81,10,59,12,"isLoading"],[81,19,59,21],[81,21,59,23],[82,8,59,29],[82,9,59,30],[82,10,59,31],[83,6,60,4],[84,4,61,2],[85,2,62,0],[85,3,62,1],[85,4,62,2],[85,5,62,3],[86,0,62,4],[86,3]],"functionMap":{"names":["<global>","create$argument_0","login","register","logout","loadToken"],"mappings":"AAA;8CCe;SCM;GDQ;YEE;GFQ;UGE;GHG;aIE;GJc;EDC"},"hasCjsExports":false},"type":"js/module"}]}