{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/authService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":64,"index":168}}],"key":"eRnSkZK1DKe4zDf2LZM5EyIlz9k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesAuthService = require(_dependencyMap[2], \"../services/authService\");\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    redirectAfterLogin: null,\n    setRedirectAfterLogin: path => {\n      set({\n        redirectAfterLogin: path\n      });\n    },\n    login: async (email, password) => {\n      try {\n        const response = await _servicesAuthService.authService.login(email, password);\n        await AsyncStorage.default.setItem('auth_token', response.access_token);\n        set({\n          user: response.user,\n          token: response.access_token,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        throw error;\n      }\n    },\n    register: async (email, password, nom) => {\n      try {\n        const response = await _servicesAuthService.authService.register(email, password, nom);\n        await AsyncStorage.default.setItem('auth_token', response.access_token);\n        set({\n          user: response.user,\n          token: response.access_token,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        throw error;\n      }\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false,\n        redirectAfterLogin: null\n      });\n    },\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          global.authToken = token;\n          const user = await _servicesAuthService.authService.getCurrentUser();\n          set({\n            user,\n            token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Error loading token:', error);\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":93,"map":[[12,2,18,0,"Object"],[12,8,18,0],[12,9,18,0,"defineProperty"],[12,23,18,0],[12,24,18,0,"exports"],[12,31,18,0],[13,4,18,0,"enumerable"],[13,14,18,0],[14,4,18,0,"get"],[14,7,18,0],[14,18,18,0,"get"],[14,19,18,0],[15,6,18,0],[15,13,18,0,"useAuthStore"],[15,25,18,0],[16,4,18,0],[17,2,18,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_servicesAuthService"],[21,26,3,0],[21,29,3,0,"require"],[21,36,3,0],[21,37,3,0,"_dependencyMap"],[21,51,3,0],[22,2,18,7],[22,8,18,13,"useAuthStore"],[22,20,18,25],[22,23,18,28],[22,27,18,28,"create"],[22,35,18,34],[22,36,18,34,"create"],[22,42,18,34],[22,44,18,46],[22,45,18,47,"set"],[22,48,18,50],[22,50,18,52,"get"],[22,53,18,55],[22,59,18,61],[23,4,19,2,"user"],[23,8,19,6],[23,10,19,8],[23,14,19,12],[24,4,20,2,"token"],[24,9,20,7],[24,11,20,9],[24,15,20,13],[25,4,21,2,"isLoading"],[25,13,21,11],[25,15,21,13],[25,19,21,17],[26,4,22,2,"isAuthenticated"],[26,19,22,17],[26,21,22,19],[26,26,22,24],[27,4,23,2,"redirectAfterLogin"],[27,22,23,20],[27,24,23,22],[27,28,23,26],[28,4,25,2,"setRedirectAfterLogin"],[28,25,25,23],[28,27,25,26,"path"],[28,31,25,45],[28,35,25,50],[29,6,26,4,"set"],[29,9,26,7],[29,10,26,8],[30,8,26,10,"redirectAfterLogin"],[30,26,26,28],[30,28,26,30,"path"],[31,6,26,35],[31,7,26,36],[31,8,26,37],[32,4,27,2],[32,5,27,3],[33,4,29,2,"login"],[33,9,29,7],[33,11,29,9],[33,17,29,9,"login"],[33,18,29,16,"email"],[33,23,29,29],[33,25,29,31,"password"],[33,33,29,47],[33,38,29,52],[34,6,30,4],[34,10,30,8],[35,8,31,6],[35,14,31,12,"response"],[35,22,31,20],[35,25,31,23],[35,31,31,29,"authService"],[35,51,31,40],[35,52,31,40,"authService"],[35,63,31,40],[35,64,31,41,"login"],[35,69,31,46],[35,70,31,47,"email"],[35,75,31,52],[35,77,31,54,"password"],[35,85,31,62],[35,86,31,63],[36,8,32,6],[36,14,32,12,"AsyncStorage"],[36,26,32,24],[36,27,32,24,"default"],[36,34,32,24],[36,35,32,25,"setItem"],[36,42,32,32],[36,43,32,33],[36,55,32,45],[36,57,32,47,"response"],[36,65,32,55],[36,66,32,56,"access_token"],[36,78,32,68],[36,79,32,69],[37,8,33,6,"set"],[37,11,33,9],[37,12,33,10],[38,10,33,12,"user"],[38,14,33,16],[38,16,33,18,"response"],[38,24,33,26],[38,25,33,27,"user"],[38,29,33,31],[39,10,33,33,"token"],[39,15,33,38],[39,17,33,40,"response"],[39,25,33,48],[39,26,33,49,"access_token"],[39,38,33,61],[40,10,33,63,"isAuthenticated"],[40,25,33,78],[40,27,33,80],[41,8,33,85],[41,9,33,86],[41,10,33,87],[42,6,34,4],[42,7,34,5],[42,8,34,6],[42,15,34,13,"error"],[42,20,34,18],[42,22,34,20],[43,8,35,6],[43,14,35,12,"error"],[43,19,35,17],[44,6,36,4],[45,4,37,2],[45,5,37,3],[46,4,39,2,"register"],[46,12,39,10],[46,14,39,12],[46,20,39,12,"register"],[46,21,39,19,"email"],[46,26,39,32],[46,28,39,34,"password"],[46,36,39,50],[46,38,39,52,"nom"],[46,41,39,63],[46,46,39,68],[47,6,40,4],[47,10,40,8],[48,8,41,6],[48,14,41,12,"response"],[48,22,41,20],[48,25,41,23],[48,31,41,29,"authService"],[48,51,41,40],[48,52,41,40,"authService"],[48,63,41,40],[48,64,41,41,"register"],[48,72,41,49],[48,73,41,50,"email"],[48,78,41,55],[48,80,41,57,"password"],[48,88,41,65],[48,90,41,67,"nom"],[48,93,41,70],[48,94,41,71],[49,8,42,6],[49,14,42,12,"AsyncStorage"],[49,26,42,24],[49,27,42,24,"default"],[49,34,42,24],[49,35,42,25,"setItem"],[49,42,42,32],[49,43,42,33],[49,55,42,45],[49,57,42,47,"response"],[49,65,42,55],[49,66,42,56,"access_token"],[49,78,42,68],[49,79,42,69],[50,8,43,6,"set"],[50,11,43,9],[50,12,43,10],[51,10,43,12,"user"],[51,14,43,16],[51,16,43,18,"response"],[51,24,43,26],[51,25,43,27,"user"],[51,29,43,31],[52,10,43,33,"token"],[52,15,43,38],[52,17,43,40,"response"],[52,25,43,48],[52,26,43,49,"access_token"],[52,38,43,61],[53,10,43,63,"isAuthenticated"],[53,25,43,78],[53,27,43,80],[54,8,43,85],[54,9,43,86],[54,10,43,87],[55,6,44,4],[55,7,44,5],[55,8,44,6],[55,15,44,13,"error"],[55,20,44,18],[55,22,44,20],[56,8,45,6],[56,14,45,12,"error"],[56,19,45,17],[57,6,46,4],[58,4,47,2],[58,5,47,3],[59,4,49,2,"logout"],[59,10,49,8],[59,12,49,10],[59,18,49,10,"logout"],[59,19,49,10],[59,24,49,22],[60,6,50,4],[60,12,50,10,"AsyncStorage"],[60,24,50,22],[60,25,50,22,"default"],[60,32,50,22],[60,33,50,23,"removeItem"],[60,43,50,33],[60,44,50,34],[60,56,50,46],[60,57,50,47],[61,6,51,4,"set"],[61,9,51,7],[61,10,51,8],[62,8,51,10,"user"],[62,12,51,14],[62,14,51,16],[62,18,51,20],[63,8,51,22,"token"],[63,13,51,27],[63,15,51,29],[63,19,51,33],[64,8,51,35,"isAuthenticated"],[64,23,51,50],[64,25,51,52],[64,30,51,57],[65,8,51,59,"redirectAfterLogin"],[65,26,51,77],[65,28,51,79],[66,6,51,84],[66,7,51,85],[66,8,51,86],[67,4,52,2],[67,5,52,3],[68,4,54,2,"loadToken"],[68,13,54,11],[68,15,54,13],[68,21,54,13,"loadToken"],[68,22,54,13],[68,27,54,25],[69,6,55,4],[69,10,55,8],[70,8,56,6],[70,14,56,12,"token"],[70,19,56,17],[70,22,56,20],[70,28,56,26,"AsyncStorage"],[70,40,56,38],[70,41,56,38,"default"],[70,48,56,38],[70,49,56,39,"getItem"],[70,56,56,46],[70,57,56,47],[70,69,56,59],[70,70,56,60],[71,8,57,6],[71,12,57,10,"token"],[71,17,57,15],[71,19,57,17],[72,10,58,8,"global"],[72,16,58,14],[72,17,58,15,"authToken"],[72,26,58,24],[72,29,58,27,"token"],[72,34,58,32],[73,10,59,8],[73,16,59,14,"user"],[73,20,59,18],[73,23,59,21],[73,29,59,27,"authService"],[73,49,59,38],[73,50,59,38,"authService"],[73,61,59,38],[73,62,59,39,"getCurrentUser"],[73,76,59,53],[73,77,59,54],[73,78,59,55],[74,10,60,8,"set"],[74,13,60,11],[74,14,60,12],[75,12,60,14,"user"],[75,16,60,18],[76,12,60,20,"token"],[76,17,60,25],[77,12,60,27,"isAuthenticated"],[77,27,60,42],[77,29,60,44],[77,33,60,48],[78,12,60,50,"isLoading"],[78,21,60,59],[78,23,60,61],[79,10,60,67],[79,11,60,68],[79,12,60,69],[80,8,61,6],[80,9,61,7],[80,15,61,13],[81,10,62,8,"set"],[81,13,62,11],[81,14,62,12],[82,12,62,14,"isLoading"],[82,21,62,23],[82,23,62,25],[83,10,62,31],[83,11,62,32],[83,12,62,33],[84,8,63,6],[85,6,64,4],[85,7,64,5],[85,8,64,6],[85,15,64,13,"error"],[85,20,64,18],[85,22,64,20],[86,8,65,6,"console"],[86,15,65,13],[86,16,65,14,"error"],[86,21,65,19],[86,22,65,20],[86,44,65,42],[86,46,65,44,"error"],[86,51,65,49],[86,52,65,50],[87,8,66,6,"set"],[87,11,66,9],[87,12,66,10],[88,10,66,12,"isLoading"],[88,19,66,21],[88,21,66,23],[89,8,66,29],[89,9,66,30],[89,10,66,31],[90,6,67,4],[91,4,68,2],[92,2,69,0],[92,3,69,1],[92,4,69,2],[92,5,69,3],[93,0,69,4],[93,3]],"functionMap":{"names":["<global>","create$argument_0","setRedirectAfterLogin","login","register","logout","loadToken"],"mappings":"AAA;8CCiB;yBCO;GDE;SEE;GFQ;YGE;GHQ;UIE;GJG;aKE;GLc;EDC"},"hasCjsExports":false},"type":"js/module"}]}