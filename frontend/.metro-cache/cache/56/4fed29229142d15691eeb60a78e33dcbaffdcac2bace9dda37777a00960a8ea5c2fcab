{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/authService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":64,"index":168}}],"key":"eRnSkZK1DKe4zDf2LZM5EyIlz9k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesAuthService = require(_dependencyMap[3], \"../services/authService\");\n  var useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    login: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (email, password) {\n        try {\n          var response = yield _servicesAuthService.authService.login(email, password);\n          yield AsyncStorage.default.setItem('auth_token', response.access_token);\n          set({\n            user: response.user,\n            token: response.access_token,\n            isAuthenticated: true\n          });\n        } catch (error) {\n          throw error;\n        }\n      });\n      return function login(_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    register: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (email, password, nom) {\n        try {\n          var response = yield _servicesAuthService.authService.register(email, password, nom);\n          yield AsyncStorage.default.setItem('auth_token', response.access_token);\n          set({\n            user: response.user,\n            token: response.access_token,\n            isAuthenticated: true\n          });\n        } catch (error) {\n          throw error;\n        }\n      });\n      return function register(_x3, _x4, _x5) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    logout: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        yield AsyncStorage.default.removeItem('auth_token');\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false\n        });\n      });\n      return function logout() {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    loadToken: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var token = yield AsyncStorage.default.getItem('auth_token');\n          if (token) {\n            global.authToken = token;\n            var user = yield _servicesAuthService.authService.getCurrentUser();\n            set({\n              user,\n              token,\n              isAuthenticated: true,\n              isLoading: false\n            });\n          } else {\n            set({\n              isLoading: false\n            });\n          }\n        } catch (error) {\n          console.error('Error loading token:', error);\n          set({\n            isLoading: false\n          });\n        }\n      });\n      return function loadToken() {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":108,"map":[[12,2,16,0,"Object"],[12,8,16,0],[12,9,16,0,"defineProperty"],[12,23,16,0],[12,24,16,0,"exports"],[12,31,16,0],[13,4,16,0,"enumerable"],[13,14,16,0],[14,4,16,0,"get"],[14,7,16,0],[14,18,16,0,"get"],[14,19,16,0],[15,6,16,0],[15,13,16,0,"useAuthStore"],[15,25,16,0],[16,4,16,0],[17,2,16,0],[18,2,62,4],[18,6,62,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,62,4],[18,45,62,4,"require"],[18,52,62,4],[18,53,62,4,"_dependencyMap"],[18,67,62,4],[19,2,62,4],[19,6,62,4,"_asyncToGenerator"],[19,23,62,4],[19,26,62,4,"_interopDefault"],[19,41,62,4],[19,42,62,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,62,4],[20,2,1,0],[20,6,1,0,"_zustand"],[20,14,1,0],[20,17,1,0,"require"],[20,24,1,0],[20,25,1,0,"_dependencyMap"],[20,39,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_servicesAuthService"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,16,7],[24,6,16,13,"useAuthStore"],[24,18,16,25],[24,21,16,28],[24,25,16,28,"create"],[24,33,16,34],[24,34,16,34,"create"],[24,40,16,34],[24,42,16,47,"set"],[24,45,16,50],[24,50,16,56],[25,4,17,2,"user"],[25,8,17,6],[25,10,17,8],[25,14,17,12],[26,4,18,2,"token"],[26,9,18,7],[26,11,18,9],[26,15,18,13],[27,4,19,2,"isLoading"],[27,13,19,11],[27,15,19,13],[27,19,19,17],[28,4,20,2,"isAuthenticated"],[28,19,20,17],[28,21,20,19],[28,26,20,24],[29,4,22,2,"login"],[29,9,22,7],[30,6,22,7],[30,10,22,7,"_ref"],[30,14,22,7],[30,21,22,7,"_asyncToGenerator"],[30,38,22,7],[30,39,22,7,"default"],[30,46,22,7],[30,48,22,9],[30,59,22,16,"email"],[30,64,22,29],[30,66,22,31,"password"],[30,74,22,47],[30,76,22,52],[31,8,23,4],[31,12,23,8],[32,10,24,6],[32,14,24,12,"response"],[32,22,24,20],[32,31,24,29,"authService"],[32,51,24,40],[32,52,24,40,"authService"],[32,63,24,40],[32,64,24,41,"login"],[32,69,24,46],[32,70,24,47,"email"],[32,75,24,52],[32,77,24,54,"password"],[32,85,24,62],[32,86,24,63],[33,10,25,6],[33,16,25,12,"AsyncStorage"],[33,28,25,24],[33,29,25,24,"default"],[33,36,25,24],[33,37,25,25,"setItem"],[33,44,25,32],[33,45,25,33],[33,57,25,45],[33,59,25,47,"response"],[33,67,25,55],[33,68,25,56,"access_token"],[33,80,25,68],[33,81,25,69],[34,10,26,6,"set"],[34,13,26,9],[34,14,26,10],[35,12,26,12,"user"],[35,16,26,16],[35,18,26,18,"response"],[35,26,26,26],[35,27,26,27,"user"],[35,31,26,31],[36,12,26,33,"token"],[36,17,26,38],[36,19,26,40,"response"],[36,27,26,48],[36,28,26,49,"access_token"],[36,40,26,61],[37,12,26,63,"isAuthenticated"],[37,27,26,78],[37,29,26,80],[38,10,26,85],[38,11,26,86],[38,12,26,87],[39,8,27,4],[39,9,27,5],[39,10,27,6],[39,17,27,13,"error"],[39,22,27,18],[39,24,27,20],[40,10,28,6],[40,16,28,12,"error"],[40,21,28,17],[41,8,29,4],[42,6,30,2],[42,7,30,3],[43,6,30,3],[43,22,22,2,"login"],[43,27,22,7,"login"],[43,28,22,7,"_x"],[43,30,22,7],[43,32,22,7,"_x2"],[43,35,22,7],[44,8,22,7],[44,15,22,7,"_ref"],[44,19,22,7],[44,20,22,7,"apply"],[44,25,22,7],[44,32,22,7,"arguments"],[44,41,22,7],[45,6,22,7],[46,4,22,7],[46,7,30,3],[47,4,32,2,"register"],[47,12,32,10],[48,6,32,10],[48,10,32,10,"_ref2"],[48,15,32,10],[48,22,32,10,"_asyncToGenerator"],[48,39,32,10],[48,40,32,10,"default"],[48,47,32,10],[48,49,32,12],[48,60,32,19,"email"],[48,65,32,32],[48,67,32,34,"password"],[48,75,32,50],[48,77,32,52,"nom"],[48,80,32,63],[48,82,32,68],[49,8,33,4],[49,12,33,8],[50,10,34,6],[50,14,34,12,"response"],[50,22,34,20],[50,31,34,29,"authService"],[50,51,34,40],[50,52,34,40,"authService"],[50,63,34,40],[50,64,34,41,"register"],[50,72,34,49],[50,73,34,50,"email"],[50,78,34,55],[50,80,34,57,"password"],[50,88,34,65],[50,90,34,67,"nom"],[50,93,34,70],[50,94,34,71],[51,10,35,6],[51,16,35,12,"AsyncStorage"],[51,28,35,24],[51,29,35,24,"default"],[51,36,35,24],[51,37,35,25,"setItem"],[51,44,35,32],[51,45,35,33],[51,57,35,45],[51,59,35,47,"response"],[51,67,35,55],[51,68,35,56,"access_token"],[51,80,35,68],[51,81,35,69],[52,10,36,6,"set"],[52,13,36,9],[52,14,36,10],[53,12,36,12,"user"],[53,16,36,16],[53,18,36,18,"response"],[53,26,36,26],[53,27,36,27,"user"],[53,31,36,31],[54,12,36,33,"token"],[54,17,36,38],[54,19,36,40,"response"],[54,27,36,48],[54,28,36,49,"access_token"],[54,40,36,61],[55,12,36,63,"isAuthenticated"],[55,27,36,78],[55,29,36,80],[56,10,36,85],[56,11,36,86],[56,12,36,87],[57,8,37,4],[57,9,37,5],[57,10,37,6],[57,17,37,13,"error"],[57,22,37,18],[57,24,37,20],[58,10,38,6],[58,16,38,12,"error"],[58,21,38,17],[59,8,39,4],[60,6,40,2],[60,7,40,3],[61,6,40,3],[61,22,32,2,"register"],[61,30,32,10,"register"],[61,31,32,10,"_x3"],[61,34,32,10],[61,36,32,10,"_x4"],[61,39,32,10],[61,41,32,10,"_x5"],[61,44,32,10],[62,8,32,10],[62,15,32,10,"_ref2"],[62,20,32,10],[62,21,32,10,"apply"],[62,26,32,10],[62,33,32,10,"arguments"],[62,42,32,10],[63,6,32,10],[64,4,32,10],[64,7,40,3],[65,4,42,2,"logout"],[65,10,42,8],[66,6,42,8],[66,10,42,8,"_ref3"],[66,15,42,8],[66,22,42,8,"_asyncToGenerator"],[66,39,42,8],[66,40,42,8,"default"],[66,47,42,8],[66,49,42,10],[66,62,42,22],[67,8,43,4],[67,14,43,10,"AsyncStorage"],[67,26,43,22],[67,27,43,22,"default"],[67,34,43,22],[67,35,43,23,"removeItem"],[67,45,43,33],[67,46,43,34],[67,58,43,46],[67,59,43,47],[68,8,44,4,"set"],[68,11,44,7],[68,12,44,8],[69,10,44,10,"user"],[69,14,44,14],[69,16,44,16],[69,20,44,20],[70,10,44,22,"token"],[70,15,44,27],[70,17,44,29],[70,21,44,33],[71,10,44,35,"isAuthenticated"],[71,25,44,50],[71,27,44,52],[72,8,44,58],[72,9,44,59],[72,10,44,60],[73,6,45,2],[73,7,45,3],[74,6,45,3],[74,22,42,2,"logout"],[74,28,42,8,"logout"],[74,29,42,8],[75,8,42,8],[75,15,42,8,"_ref3"],[75,20,42,8],[75,21,42,8,"apply"],[75,26,42,8],[75,33,42,8,"arguments"],[75,42,42,8],[76,6,42,8],[77,4,42,8],[77,7,45,3],[78,4,47,2,"loadToken"],[78,13,47,11],[79,6,47,11],[79,10,47,11,"_ref4"],[79,15,47,11],[79,22,47,11,"_asyncToGenerator"],[79,39,47,11],[79,40,47,11,"default"],[79,47,47,11],[79,49,47,13],[79,62,47,25],[80,8,48,4],[80,12,48,8],[81,10,49,6],[81,14,49,12,"token"],[81,19,49,17],[81,28,49,26,"AsyncStorage"],[81,40,49,38],[81,41,49,38,"default"],[81,48,49,38],[81,49,49,39,"getItem"],[81,56,49,46],[81,57,49,47],[81,69,49,59],[81,70,49,60],[82,10,50,6],[82,14,50,10,"token"],[82,19,50,15],[82,21,50,17],[83,12,51,8,"global"],[83,18,51,14],[83,19,51,15,"authToken"],[83,28,51,24],[83,31,51,27,"token"],[83,36,51,32],[84,12,52,8],[84,16,52,14,"user"],[84,20,52,18],[84,29,52,27,"authService"],[84,49,52,38],[84,50,52,38,"authService"],[84,61,52,38],[84,62,52,39,"getCurrentUser"],[84,76,52,53],[84,77,52,54],[84,78,52,55],[85,12,53,8,"set"],[85,15,53,11],[85,16,53,12],[86,14,53,14,"user"],[86,18,53,18],[87,14,53,20,"token"],[87,19,53,25],[88,14,53,27,"isAuthenticated"],[88,29,53,42],[88,31,53,44],[88,35,53,48],[89,14,53,50,"isLoading"],[89,23,53,59],[89,25,53,61],[90,12,53,67],[90,13,53,68],[90,14,53,69],[91,10,54,6],[91,11,54,7],[91,17,54,13],[92,12,55,8,"set"],[92,15,55,11],[92,16,55,12],[93,14,55,14,"isLoading"],[93,23,55,23],[93,25,55,25],[94,12,55,31],[94,13,55,32],[94,14,55,33],[95,10,56,6],[96,8,57,4],[96,9,57,5],[96,10,57,6],[96,17,57,13,"error"],[96,22,57,18],[96,24,57,20],[97,10,58,6,"console"],[97,17,58,13],[97,18,58,14,"error"],[97,23,58,19],[97,24,58,20],[97,46,58,42],[97,48,58,44,"error"],[97,53,58,49],[97,54,58,50],[98,10,59,6,"set"],[98,13,59,9],[98,14,59,10],[99,12,59,12,"isLoading"],[99,21,59,21],[99,23,59,23],[100,10,59,29],[100,11,59,30],[100,12,59,31],[101,8,60,4],[102,6,61,2],[102,7,61,3],[103,6,61,3],[103,22,47,2,"loadToken"],[103,31,47,11,"loadToken"],[103,32,47,11],[104,8,47,11],[104,15,47,11,"_ref4"],[104,20,47,11],[104,21,47,11,"apply"],[104,26,47,11],[104,33,47,11,"arguments"],[104,42,47,11],[105,6,47,11],[106,4,47,11],[107,2,62,0],[107,3,62,1],[107,4,62,2],[107,5,62,3],[108,0,62,4],[108,3]],"functionMap":{"names":["<global>","create$argument_0","login","register","logout","loadToken"],"mappings":"AAA;8CCe;SCM;GDQ;YEE;GFQ;UGE;GHG;aIE;GJc;EDC"},"hasCjsExports":false},"type":"js/module"}]}