{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/authService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":64,"index":168}}],"key":"eRnSkZK1DKe4zDf2LZM5EyIlz9k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _zustand = require(_dependencyMap[1], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesAuthService = require(_dependencyMap[3], \"../services/authService\");\n  var useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    login: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* (email, password) {\n        try {\n          var response = yield _servicesAuthService.authService.login(email, password);\n          yield AsyncStorage.default.setItem('auth_token', response.access_token);\n          global.authToken = response.access_token;\n          set({\n            user: response.user,\n            token: response.access_token,\n            isAuthenticated: true\n          });\n        } catch (error) {\n          throw error;\n        }\n      });\n      return function login(_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    register: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (email, password, nom) {\n        try {\n          var response = yield _servicesAuthService.authService.register(email, password, nom);\n          yield AsyncStorage.default.setItem('auth_token', response.access_token);\n          global.authToken = response.access_token;\n          set({\n            user: response.user,\n            token: response.access_token,\n            isAuthenticated: true\n          });\n        } catch (error) {\n          throw error;\n        }\n      });\n      return function register(_x3, _x4, _x5) {\n        return _ref2.apply(this, arguments);\n      };\n    }(),\n    logout: function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* () {\n        yield AsyncStorage.default.removeItem('auth_token');\n        global.authToken = null;\n        set({\n          user: null,\n          token: null,\n          isAuthenticated: false\n        });\n      });\n      return function logout() {\n        return _ref3.apply(this, arguments);\n      };\n    }(),\n    loadToken: function () {\n      var _ref4 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var token = yield AsyncStorage.default.getItem('auth_token');\n          if (token) {\n            global.authToken = token;\n            var user = yield _servicesAuthService.authService.getCurrentUser();\n            set({\n              user,\n              token,\n              isAuthenticated: true,\n              isLoading: false\n            });\n          } else {\n            set({\n              isLoading: false\n            });\n          }\n        } catch (error) {\n          console.error('Error loading token:', error);\n          set({\n            isLoading: false\n          });\n        }\n      });\n      return function loadToken() {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":111,"map":[[12,2,16,0,"Object"],[12,8,16,0],[12,9,16,0,"defineProperty"],[12,23,16,0],[12,24,16,0,"exports"],[12,31,16,0],[13,4,16,0,"enumerable"],[13,14,16,0],[14,4,16,0,"get"],[14,7,16,0],[14,18,16,0,"get"],[14,19,16,0],[15,6,16,0],[15,13,16,0,"useAuthStore"],[15,25,16,0],[16,4,16,0],[17,2,16,0],[18,2,65,4],[18,6,65,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,65,4],[18,45,65,4,"require"],[18,52,65,4],[18,53,65,4,"_dependencyMap"],[18,67,65,4],[19,2,65,4],[19,6,65,4,"_asyncToGenerator"],[19,23,65,4],[19,26,65,4,"_interopDefault"],[19,41,65,4],[19,42,65,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,65,4],[20,2,1,0],[20,6,1,0,"_zustand"],[20,14,1,0],[20,17,1,0,"require"],[20,24,1,0],[20,25,1,0,"_dependencyMap"],[20,39,1,0],[21,2,2,0],[21,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[21,42,2,0],[21,45,2,0,"require"],[21,52,2,0],[21,53,2,0,"_dependencyMap"],[21,67,2,0],[22,2,2,0],[22,6,2,0,"AsyncStorage"],[22,18,2,0],[22,21,2,0,"_interopDefault"],[22,36,2,0],[22,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[22,73,2,0],[23,2,3,0],[23,6,3,0,"_servicesAuthService"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,16,7],[24,6,16,13,"useAuthStore"],[24,18,16,25],[24,21,16,28],[24,25,16,28,"create"],[24,33,16,34],[24,34,16,34,"create"],[24,40,16,34],[24,42,16,47,"set"],[24,45,16,50],[24,50,16,56],[25,4,17,2,"user"],[25,8,17,6],[25,10,17,8],[25,14,17,12],[26,4,18,2,"token"],[26,9,18,7],[26,11,18,9],[26,15,18,13],[27,4,19,2,"isLoading"],[27,13,19,11],[27,15,19,13],[27,19,19,17],[28,4,20,2,"isAuthenticated"],[28,19,20,17],[28,21,20,19],[28,26,20,24],[29,4,22,2,"login"],[29,9,22,7],[30,6,22,7],[30,10,22,7,"_ref"],[30,14,22,7],[30,21,22,7,"_asyncToGenerator"],[30,38,22,7],[30,39,22,7,"default"],[30,46,22,7],[30,48,22,9],[30,59,22,16,"email"],[30,64,22,29],[30,66,22,31,"password"],[30,74,22,47],[30,76,22,52],[31,8,23,4],[31,12,23,8],[32,10,24,6],[32,14,24,12,"response"],[32,22,24,20],[32,31,24,29,"authService"],[32,51,24,40],[32,52,24,40,"authService"],[32,63,24,40],[32,64,24,41,"login"],[32,69,24,46],[32,70,24,47,"email"],[32,75,24,52],[32,77,24,54,"password"],[32,85,24,62],[32,86,24,63],[33,10,25,6],[33,16,25,12,"AsyncStorage"],[33,28,25,24],[33,29,25,24,"default"],[33,36,25,24],[33,37,25,25,"setItem"],[33,44,25,32],[33,45,25,33],[33,57,25,45],[33,59,25,47,"response"],[33,67,25,55],[33,68,25,56,"access_token"],[33,80,25,68],[33,81,25,69],[34,10,26,6,"global"],[34,16,26,12],[34,17,26,13,"authToken"],[34,26,26,22],[34,29,26,25,"response"],[34,37,26,33],[34,38,26,34,"access_token"],[34,50,26,46],[35,10,27,6,"set"],[35,13,27,9],[35,14,27,10],[36,12,27,12,"user"],[36,16,27,16],[36,18,27,18,"response"],[36,26,27,26],[36,27,27,27,"user"],[36,31,27,31],[37,12,27,33,"token"],[37,17,27,38],[37,19,27,40,"response"],[37,27,27,48],[37,28,27,49,"access_token"],[37,40,27,61],[38,12,27,63,"isAuthenticated"],[38,27,27,78],[38,29,27,80],[39,10,27,85],[39,11,27,86],[39,12,27,87],[40,8,28,4],[40,9,28,5],[40,10,28,6],[40,17,28,13,"error"],[40,22,28,18],[40,24,28,20],[41,10,29,6],[41,16,29,12,"error"],[41,21,29,17],[42,8,30,4],[43,6,31,2],[43,7,31,3],[44,6,31,3],[44,22,22,2,"login"],[44,27,22,7,"login"],[44,28,22,7,"_x"],[44,30,22,7],[44,32,22,7,"_x2"],[44,35,22,7],[45,8,22,7],[45,15,22,7,"_ref"],[45,19,22,7],[45,20,22,7,"apply"],[45,25,22,7],[45,32,22,7,"arguments"],[45,41,22,7],[46,6,22,7],[47,4,22,7],[47,7,31,3],[48,4,33,2,"register"],[48,12,33,10],[49,6,33,10],[49,10,33,10,"_ref2"],[49,15,33,10],[49,22,33,10,"_asyncToGenerator"],[49,39,33,10],[49,40,33,10,"default"],[49,47,33,10],[49,49,33,12],[49,60,33,19,"email"],[49,65,33,32],[49,67,33,34,"password"],[49,75,33,50],[49,77,33,52,"nom"],[49,80,33,63],[49,82,33,68],[50,8,34,4],[50,12,34,8],[51,10,35,6],[51,14,35,12,"response"],[51,22,35,20],[51,31,35,29,"authService"],[51,51,35,40],[51,52,35,40,"authService"],[51,63,35,40],[51,64,35,41,"register"],[51,72,35,49],[51,73,35,50,"email"],[51,78,35,55],[51,80,35,57,"password"],[51,88,35,65],[51,90,35,67,"nom"],[51,93,35,70],[51,94,35,71],[52,10,36,6],[52,16,36,12,"AsyncStorage"],[52,28,36,24],[52,29,36,24,"default"],[52,36,36,24],[52,37,36,25,"setItem"],[52,44,36,32],[52,45,36,33],[52,57,36,45],[52,59,36,47,"response"],[52,67,36,55],[52,68,36,56,"access_token"],[52,80,36,68],[52,81,36,69],[53,10,37,6,"global"],[53,16,37,12],[53,17,37,13,"authToken"],[53,26,37,22],[53,29,37,25,"response"],[53,37,37,33],[53,38,37,34,"access_token"],[53,50,37,46],[54,10,38,6,"set"],[54,13,38,9],[54,14,38,10],[55,12,38,12,"user"],[55,16,38,16],[55,18,38,18,"response"],[55,26,38,26],[55,27,38,27,"user"],[55,31,38,31],[56,12,38,33,"token"],[56,17,38,38],[56,19,38,40,"response"],[56,27,38,48],[56,28,38,49,"access_token"],[56,40,38,61],[57,12,38,63,"isAuthenticated"],[57,27,38,78],[57,29,38,80],[58,10,38,85],[58,11,38,86],[58,12,38,87],[59,8,39,4],[59,9,39,5],[59,10,39,6],[59,17,39,13,"error"],[59,22,39,18],[59,24,39,20],[60,10,40,6],[60,16,40,12,"error"],[60,21,40,17],[61,8,41,4],[62,6,42,2],[62,7,42,3],[63,6,42,3],[63,22,33,2,"register"],[63,30,33,10,"register"],[63,31,33,10,"_x3"],[63,34,33,10],[63,36,33,10,"_x4"],[63,39,33,10],[63,41,33,10,"_x5"],[63,44,33,10],[64,8,33,10],[64,15,33,10,"_ref2"],[64,20,33,10],[64,21,33,10,"apply"],[64,26,33,10],[64,33,33,10,"arguments"],[64,42,33,10],[65,6,33,10],[66,4,33,10],[66,7,42,3],[67,4,44,2,"logout"],[67,10,44,8],[68,6,44,8],[68,10,44,8,"_ref3"],[68,15,44,8],[68,22,44,8,"_asyncToGenerator"],[68,39,44,8],[68,40,44,8,"default"],[68,47,44,8],[68,49,44,10],[68,62,44,22],[69,8,45,4],[69,14,45,10,"AsyncStorage"],[69,26,45,22],[69,27,45,22,"default"],[69,34,45,22],[69,35,45,23,"removeItem"],[69,45,45,33],[69,46,45,34],[69,58,45,46],[69,59,45,47],[70,8,46,4,"global"],[70,14,46,10],[70,15,46,11,"authToken"],[70,24,46,20],[70,27,46,23],[70,31,46,27],[71,8,47,4,"set"],[71,11,47,7],[71,12,47,8],[72,10,47,10,"user"],[72,14,47,14],[72,16,47,16],[72,20,47,20],[73,10,47,22,"token"],[73,15,47,27],[73,17,47,29],[73,21,47,33],[74,10,47,35,"isAuthenticated"],[74,25,47,50],[74,27,47,52],[75,8,47,58],[75,9,47,59],[75,10,47,60],[76,6,48,2],[76,7,48,3],[77,6,48,3],[77,22,44,2,"logout"],[77,28,44,8,"logout"],[77,29,44,8],[78,8,44,8],[78,15,44,8,"_ref3"],[78,20,44,8],[78,21,44,8,"apply"],[78,26,44,8],[78,33,44,8,"arguments"],[78,42,44,8],[79,6,44,8],[80,4,44,8],[80,7,48,3],[81,4,50,2,"loadToken"],[81,13,50,11],[82,6,50,11],[82,10,50,11,"_ref4"],[82,15,50,11],[82,22,50,11,"_asyncToGenerator"],[82,39,50,11],[82,40,50,11,"default"],[82,47,50,11],[82,49,50,13],[82,62,50,25],[83,8,51,4],[83,12,51,8],[84,10,52,6],[84,14,52,12,"token"],[84,19,52,17],[84,28,52,26,"AsyncStorage"],[84,40,52,38],[84,41,52,38,"default"],[84,48,52,38],[84,49,52,39,"getItem"],[84,56,52,46],[84,57,52,47],[84,69,52,59],[84,70,52,60],[85,10,53,6],[85,14,53,10,"token"],[85,19,53,15],[85,21,53,17],[86,12,54,8,"global"],[86,18,54,14],[86,19,54,15,"authToken"],[86,28,54,24],[86,31,54,27,"token"],[86,36,54,32],[87,12,55,8],[87,16,55,14,"user"],[87,20,55,18],[87,29,55,27,"authService"],[87,49,55,38],[87,50,55,38,"authService"],[87,61,55,38],[87,62,55,39,"getCurrentUser"],[87,76,55,53],[87,77,55,54],[87,78,55,55],[88,12,56,8,"set"],[88,15,56,11],[88,16,56,12],[89,14,56,14,"user"],[89,18,56,18],[90,14,56,20,"token"],[90,19,56,25],[91,14,56,27,"isAuthenticated"],[91,29,56,42],[91,31,56,44],[91,35,56,48],[92,14,56,50,"isLoading"],[92,23,56,59],[92,25,56,61],[93,12,56,67],[93,13,56,68],[93,14,56,69],[94,10,57,6],[94,11,57,7],[94,17,57,13],[95,12,58,8,"set"],[95,15,58,11],[95,16,58,12],[96,14,58,14,"isLoading"],[96,23,58,23],[96,25,58,25],[97,12,58,31],[97,13,58,32],[97,14,58,33],[98,10,59,6],[99,8,60,4],[99,9,60,5],[99,10,60,6],[99,17,60,13,"error"],[99,22,60,18],[99,24,60,20],[100,10,61,6,"console"],[100,17,61,13],[100,18,61,14,"error"],[100,23,61,19],[100,24,61,20],[100,46,61,42],[100,48,61,44,"error"],[100,53,61,49],[100,54,61,50],[101,10,62,6,"set"],[101,13,62,9],[101,14,62,10],[102,12,62,12,"isLoading"],[102,21,62,21],[102,23,62,23],[103,10,62,29],[103,11,62,30],[103,12,62,31],[104,8,63,4],[105,6,64,2],[105,7,64,3],[106,6,64,3],[106,22,50,2,"loadToken"],[106,31,50,11,"loadToken"],[106,32,50,11],[107,8,50,11],[107,15,50,11,"_ref4"],[107,20,50,11],[107,21,50,11,"apply"],[107,26,50,11],[107,33,50,11,"arguments"],[107,42,50,11],[108,6,50,11],[109,4,50,11],[110,2,65,0],[110,3,65,1],[110,4,65,2],[110,5,65,3],[111,0,65,4],[111,3]],"functionMap":{"names":["<global>","create$argument_0","login","register","logout","loadToken"],"mappings":"AAA;8CCe;SCM;GDS;YEE;GFS;UGE;GHI;aIE;GJc;EDC"},"hasCjsExports":false},"type":"js/module"}]}