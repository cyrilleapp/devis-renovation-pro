{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/authService","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":64,"index":168}}],"key":"eRnSkZK1DKe4zDf2LZM5EyIlz9k=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesAuthService = require(_dependencyMap[2], \"../services/authService\");\n  const useAuthStore = (0, _zustand.create)(set => ({\n    user: null,\n    token: null,\n    isLoading: true,\n    isAuthenticated: false,\n    login: async (email, password) => {\n      try {\n        const response = await _servicesAuthService.authService.login(email, password);\n        await AsyncStorage.default.setItem('auth_token', response.access_token);\n        global.authToken = response.access_token;\n        set({\n          user: response.user,\n          token: response.access_token,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        throw error;\n      }\n    },\n    register: async (email, password, nom) => {\n      try {\n        const response = await _servicesAuthService.authService.register(email, password, nom);\n        await AsyncStorage.default.setItem('auth_token', response.access_token);\n        global.authToken = response.access_token;\n        set({\n          user: response.user,\n          token: response.access_token,\n          isAuthenticated: true\n        });\n      } catch (error) {\n        throw error;\n      }\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      global.authToken = null;\n      set({\n        user: null,\n        token: null,\n        isAuthenticated: false\n      });\n    },\n    loadToken: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          global.authToken = token;\n          const user = await _servicesAuthService.authService.getCurrentUser();\n          set({\n            user,\n            token,\n            isAuthenticated: true,\n            isLoading: false\n          });\n        } else {\n          set({\n            isLoading: false\n          });\n        }\n      } catch (error) {\n        console.error('Error loading token:', error);\n        set({\n          isLoading: false\n        });\n      }\n    }\n  }));\n});","lineCount":89,"map":[[12,2,16,0,"Object"],[12,8,16,0],[12,9,16,0,"defineProperty"],[12,23,16,0],[12,24,16,0,"exports"],[12,31,16,0],[13,4,16,0,"enumerable"],[13,14,16,0],[14,4,16,0,"get"],[14,7,16,0],[14,18,16,0,"get"],[14,19,16,0],[15,6,16,0],[15,13,16,0,"useAuthStore"],[15,25,16,0],[16,4,16,0],[17,2,16,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_servicesAuthService"],[21,26,3,0],[21,29,3,0,"require"],[21,36,3,0],[21,37,3,0,"_dependencyMap"],[21,51,3,0],[22,2,16,7],[22,8,16,13,"useAuthStore"],[22,20,16,25],[22,23,16,28],[22,27,16,28,"create"],[22,35,16,34],[22,36,16,34,"create"],[22,42,16,34],[22,44,16,47,"set"],[22,47,16,50],[22,52,16,56],[23,4,17,2,"user"],[23,8,17,6],[23,10,17,8],[23,14,17,12],[24,4,18,2,"token"],[24,9,18,7],[24,11,18,9],[24,15,18,13],[25,4,19,2,"isLoading"],[25,13,19,11],[25,15,19,13],[25,19,19,17],[26,4,20,2,"isAuthenticated"],[26,19,20,17],[26,21,20,19],[26,26,20,24],[27,4,22,2,"login"],[27,9,22,7],[27,11,22,9],[27,17,22,9,"login"],[27,18,22,16,"email"],[27,23,22,29],[27,25,22,31,"password"],[27,33,22,47],[27,38,22,52],[28,6,23,4],[28,10,23,8],[29,8,24,6],[29,14,24,12,"response"],[29,22,24,20],[29,25,24,23],[29,31,24,29,"authService"],[29,51,24,40],[29,52,24,40,"authService"],[29,63,24,40],[29,64,24,41,"login"],[29,69,24,46],[29,70,24,47,"email"],[29,75,24,52],[29,77,24,54,"password"],[29,85,24,62],[29,86,24,63],[30,8,25,6],[30,14,25,12,"AsyncStorage"],[30,26,25,24],[30,27,25,24,"default"],[30,34,25,24],[30,35,25,25,"setItem"],[30,42,25,32],[30,43,25,33],[30,55,25,45],[30,57,25,47,"response"],[30,65,25,55],[30,66,25,56,"access_token"],[30,78,25,68],[30,79,25,69],[31,8,26,6,"global"],[31,14,26,12],[31,15,26,13,"authToken"],[31,24,26,22],[31,27,26,25,"response"],[31,35,26,33],[31,36,26,34,"access_token"],[31,48,26,46],[32,8,27,6,"set"],[32,11,27,9],[32,12,27,10],[33,10,27,12,"user"],[33,14,27,16],[33,16,27,18,"response"],[33,24,27,26],[33,25,27,27,"user"],[33,29,27,31],[34,10,27,33,"token"],[34,15,27,38],[34,17,27,40,"response"],[34,25,27,48],[34,26,27,49,"access_token"],[34,38,27,61],[35,10,27,63,"isAuthenticated"],[35,25,27,78],[35,27,27,80],[36,8,27,85],[36,9,27,86],[36,10,27,87],[37,6,28,4],[37,7,28,5],[37,8,28,6],[37,15,28,13,"error"],[37,20,28,18],[37,22,28,20],[38,8,29,6],[38,14,29,12,"error"],[38,19,29,17],[39,6,30,4],[40,4,31,2],[40,5,31,3],[41,4,33,2,"register"],[41,12,33,10],[41,14,33,12],[41,20,33,12,"register"],[41,21,33,19,"email"],[41,26,33,32],[41,28,33,34,"password"],[41,36,33,50],[41,38,33,52,"nom"],[41,41,33,63],[41,46,33,68],[42,6,34,4],[42,10,34,8],[43,8,35,6],[43,14,35,12,"response"],[43,22,35,20],[43,25,35,23],[43,31,35,29,"authService"],[43,51,35,40],[43,52,35,40,"authService"],[43,63,35,40],[43,64,35,41,"register"],[43,72,35,49],[43,73,35,50,"email"],[43,78,35,55],[43,80,35,57,"password"],[43,88,35,65],[43,90,35,67,"nom"],[43,93,35,70],[43,94,35,71],[44,8,36,6],[44,14,36,12,"AsyncStorage"],[44,26,36,24],[44,27,36,24,"default"],[44,34,36,24],[44,35,36,25,"setItem"],[44,42,36,32],[44,43,36,33],[44,55,36,45],[44,57,36,47,"response"],[44,65,36,55],[44,66,36,56,"access_token"],[44,78,36,68],[44,79,36,69],[45,8,37,6,"global"],[45,14,37,12],[45,15,37,13,"authToken"],[45,24,37,22],[45,27,37,25,"response"],[45,35,37,33],[45,36,37,34,"access_token"],[45,48,37,46],[46,8,38,6,"set"],[46,11,38,9],[46,12,38,10],[47,10,38,12,"user"],[47,14,38,16],[47,16,38,18,"response"],[47,24,38,26],[47,25,38,27,"user"],[47,29,38,31],[48,10,38,33,"token"],[48,15,38,38],[48,17,38,40,"response"],[48,25,38,48],[48,26,38,49,"access_token"],[48,38,38,61],[49,10,38,63,"isAuthenticated"],[49,25,38,78],[49,27,38,80],[50,8,38,85],[50,9,38,86],[50,10,38,87],[51,6,39,4],[51,7,39,5],[51,8,39,6],[51,15,39,13,"error"],[51,20,39,18],[51,22,39,20],[52,8,40,6],[52,14,40,12,"error"],[52,19,40,17],[53,6,41,4],[54,4,42,2],[54,5,42,3],[55,4,44,2,"logout"],[55,10,44,8],[55,12,44,10],[55,18,44,10,"logout"],[55,19,44,10],[55,24,44,22],[56,6,45,4],[56,12,45,10,"AsyncStorage"],[56,24,45,22],[56,25,45,22,"default"],[56,32,45,22],[56,33,45,23,"removeItem"],[56,43,45,33],[56,44,45,34],[56,56,45,46],[56,57,45,47],[57,6,46,4,"global"],[57,12,46,10],[57,13,46,11,"authToken"],[57,22,46,20],[57,25,46,23],[57,29,46,27],[58,6,47,4,"set"],[58,9,47,7],[58,10,47,8],[59,8,47,10,"user"],[59,12,47,14],[59,14,47,16],[59,18,47,20],[60,8,47,22,"token"],[60,13,47,27],[60,15,47,29],[60,19,47,33],[61,8,47,35,"isAuthenticated"],[61,23,47,50],[61,25,47,52],[62,6,47,58],[62,7,47,59],[62,8,47,60],[63,4,48,2],[63,5,48,3],[64,4,50,2,"loadToken"],[64,13,50,11],[64,15,50,13],[64,21,50,13,"loadToken"],[64,22,50,13],[64,27,50,25],[65,6,51,4],[65,10,51,8],[66,8,52,6],[66,14,52,12,"token"],[66,19,52,17],[66,22,52,20],[66,28,52,26,"AsyncStorage"],[66,40,52,38],[66,41,52,38,"default"],[66,48,52,38],[66,49,52,39,"getItem"],[66,56,52,46],[66,57,52,47],[66,69,52,59],[66,70,52,60],[67,8,53,6],[67,12,53,10,"token"],[67,17,53,15],[67,19,53,17],[68,10,54,8,"global"],[68,16,54,14],[68,17,54,15,"authToken"],[68,26,54,24],[68,29,54,27,"token"],[68,34,54,32],[69,10,55,8],[69,16,55,14,"user"],[69,20,55,18],[69,23,55,21],[69,29,55,27,"authService"],[69,49,55,38],[69,50,55,38,"authService"],[69,61,55,38],[69,62,55,39,"getCurrentUser"],[69,76,55,53],[69,77,55,54],[69,78,55,55],[70,10,56,8,"set"],[70,13,56,11],[70,14,56,12],[71,12,56,14,"user"],[71,16,56,18],[72,12,56,20,"token"],[72,17,56,25],[73,12,56,27,"isAuthenticated"],[73,27,56,42],[73,29,56,44],[73,33,56,48],[74,12,56,50,"isLoading"],[74,21,56,59],[74,23,56,61],[75,10,56,67],[75,11,56,68],[75,12,56,69],[76,8,57,6],[76,9,57,7],[76,15,57,13],[77,10,58,8,"set"],[77,13,58,11],[77,14,58,12],[78,12,58,14,"isLoading"],[78,21,58,23],[78,23,58,25],[79,10,58,31],[79,11,58,32],[79,12,58,33],[80,8,59,6],[81,6,60,4],[81,7,60,5],[81,8,60,6],[81,15,60,13,"error"],[81,20,60,18],[81,22,60,20],[82,8,61,6,"console"],[82,15,61,13],[82,16,61,14,"error"],[82,21,61,19],[82,22,61,20],[82,44,61,42],[82,46,61,44,"error"],[82,51,61,49],[82,52,61,50],[83,8,62,6,"set"],[83,11,62,9],[83,12,62,10],[84,10,62,12,"isLoading"],[84,19,62,21],[84,21,62,23],[85,8,62,29],[85,9,62,30],[85,10,62,31],[86,6,63,4],[87,4,64,2],[88,2,65,0],[88,3,65,1],[88,4,65,2],[88,5,65,3],[89,0,65,4],[89,3]],"functionMap":{"names":["<global>","create$argument_0","login","register","logout","loadToken"],"mappings":"AAA;8CCe;SCM;GDS;YEE;GFS;UGE;GHI;aIE;GJc;EDC"},"hasCjsExports":false},"type":"js/module"}]}